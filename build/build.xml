<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<project basedir=".." default="build" name="jnome" xmlns:ivy="antlib:org.apache.ivy.ant">

  <property file="properties"/>
  <!-- Override in the properties file if these are not appropriate
       for your directory layout -->
  <property name="workspace.dir" value="${basedir}/.."/>
  <property name="common.dir" value="${workspace.dir}/common"/>
  <property name="junit.output.dir" value="output"/>
  <import file="${common.dir}/build/build.xml"/>

  <target name="test" depends="init-ivy">
    <path id="jnome.path">
      <pathelement path="${dist.jar}/${module}.jar"/>
      <path refid="project.classpath"/>
    </path>

    <mkdir dir="${junit.output.dir}"/>
    <tstamp>
      <format property="test_time" pattern="yyyy-MM-dd@HH:mm:ss"/>
    </tstamp>
    <junit fork="yes" printsummary="withOutAndErr">
      <formatter type="xml"/>
      <test name="be.kuleuven.cs.distrinet.jnome.test.AllTests" todir="${junit.output.dir}" outfile="test_${test_time}"/>
      <jvmarg line="-Xmx1024m"/>
      <classpath refid="jnome.path"/>
    </junit>
    <!--<move src="${junit.output.dir}/" dest=""/>-->
  </target>


</project>
